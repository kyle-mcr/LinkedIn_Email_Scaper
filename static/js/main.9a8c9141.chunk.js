(this.webpackJsonpdevdb_chrome_ext=this.webpackJsonpdevdb_chrome_ext||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n(2),s=n.n(o),a=n(5),i=n.n(a),r=(n(14),n(3)),d=n(6),l=n(7),u=n(8),m=function(){var e=Object(o.useState)(),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(o.useState)(),i=Object(r.a)(a,2),m=i[0],j=i[1],b=Object(o.useState)(),h=Object(r.a)(b,2),p=h[0],O=h[1],f=Object(o.useState)(),x=Object(r.a)(f,2),v=x[0],y=x[1],g=function(e){e.currentTarget.style.backgroundColor="lightgrey"},w=function(e){var t=e.currentTarget;setTimeout((function(){t.style.backgroundColor="white"}),100)},N=function(e){var t=document.createElement("div");t.classList.add("popup"),t.textContent=e,document.body.appendChild(t),t.animate([{opacity:.2},{opacity:1}],400),setTimeout((function(){t.animate([{opacity:1},{opacity:.2}],400)}),2e3),setTimeout((function(){document.body.removeChild(t)}),2375)};return Object(o.useEffect)((function(){window.chrome.runtime.onMessage.addListener((function(e,t,n){console.log(e),"info_response"===e.message&&(e.error?y(e.error):function(e,t){return new Promise((function(n){j(e),O(t),console.log("INFO:"+e+" "+t),n({name:e,company:t})}))}(e.name,e.company).then((function(e){return function(e){var t=e.name,n=e.company,c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,company:n})};fetch("http://104.236.17.95:4000/generate",c).then((function(e){return e.json()})).then((function(e){console.log(e),e&&e[0]?s(e[0]):y("We're sorry, we couldn't guess an email for this user.")})).catch((function(e){var t=e.message;console.log(t),y(t)}))}(e)})))}))}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"header",children:[Object(c.jsx)("h1",{children:"developerDB Email Generator"}),Object(c.jsx)(d.a,{size:20,style:{cursor:"pointer"},onClick:function(){return window.close()}})]}),Object(c.jsxs)("div",{className:"main",children:[Object(c.jsx)("div",{className:"button",onClick:function(){window.chrome.tabs.query({currentWindow:!0,active:!0},(function(e){var t=e[0];window.chrome.tabs.sendMessage(t.id,{message:"scrape"})}))},children:"Generate Email"}),v?Object(c.jsx)("div",{className:"popup-text error",children:v}):m&&p&&n?Object(c.jsxs)("div",{className:"results-content",children:[Object(c.jsxs)("div",{className:"popup-text",children:["We predict that\xa0",Object(c.jsx)("span",{className:"name-text",children:m}),"'s email, who works at\xa0",Object(c.jsx)("span",{className:"company-text",children:p}),", is"]}),Object(c.jsxs)("div",{className:"email-content",children:[Object(c.jsx)("h2",{children:n}),Object(c.jsxs)("div",{className:"email-buttons",children:[Object(c.jsx)("div",{onClick:function(){var e=document.createElement("input");e.style.display="hidden",document.body.appendChild(e),e.value=n,e.select(),document.execCommand("copy"),N("Email copied to clipboard"),document.body.removeChild(e)},onMouseDown:g,onMouseUp:w,children:Object(c.jsx)(l.a,{size:25})}),Object(c.jsx)("a",{href:"mailto:".concat(n),onMouseDown:g,onMouseUp:w,children:Object(c.jsx)(u.a,{size:25})})]})]})]}):null]})]})};var j=function(){return Object(c.jsx)("div",{className:"app",children:Object(c.jsx)(m,{})})};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(j,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.9a8c9141.chunk.js.map